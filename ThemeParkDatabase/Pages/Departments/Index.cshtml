@page
@model ThemeParkDatabase.Pages.Departments.IndexModel

@{
    ViewData["Title"] = "Index";
}

<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <h2 class="box-title">Department<h4><a asp-page="Create">Create New</a></h4></h2>
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        <table class="table table-bordered table-hover" id="department-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>
                  @Html.DisplayNameFor(model => model.Department[0].Name)
              </th>
              <th>
                  @Html.DisplayNameFor(model => model.Department[0].LocationId)
              </th>
              <th>
                  @Html.DisplayNameFor(model => model.Department[0].ManagerId)
              </th>
            </tr>
          </thead>
          <tbody>
          @foreach (var item in Model.Department) {
            <tr name="department" data-id="@item.Id">
              <td><a asp-page="./Details" asp-route-id="@item.Id">@Html.DisplayFor(v => item.Id)</a></td>
              <td>
                  @Html.DisplayFor(modelItem => item.Name)
              </td>
              <td>
                  @Html.DisplayFor(modelItem => item.LocationId)
              </td>
              <td>
                  @Html.DisplayFor(modelItem => item.ManagerId)
              </td>
            </tr>
          }
          </tbody>
        </table>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
  <!-- /.col -->
</div>
<!-- /.row -->

@section scripts {
<script>
  $("#department-table").DataTable();
</script>
}
